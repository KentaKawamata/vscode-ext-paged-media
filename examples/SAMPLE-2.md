# セル

スプライトとして2D画像を表示する場合、表示したい画像をそれぞれ別のテクスチャとして持つこともできますが、テクスチャの切り替えには時間がかかるため、通常はできるだけ少ない枚数のテクスチャにまとめてしまいます。
 そうすると、元の画像の範囲が分かるようなデータが必要になってきます。
 このデータは「セル(Cell)」とか「チップ(Chip)」とか呼ばれます。今回はセルと呼ぶことにします。

まずは、`Src`フォルダに`Sprite.h`ファイルを追加してください。
 そして、以下の`Cell`構造体のコードを追加します。

```
#include <DirectXMath.h>

 /*
 \* スプライトとして表示する画像の範囲.
 */
 struct Cell {
   DirectX::XMFLOAT2 uv; ///< テクスチャ上の左上座標.
   DirectX::XMFLOAT2 tsize; ///< テクスチャ上の縦横サイズ.
   DirectX::XMFLOAT2 ssize; ///< スクリーン座標上の縦横サイズ
 };
```

セルの構造は比較的単純です。

変数`uv`および`tsize`によって、テクスチャ上のどの範囲を画像とするかを指定しています。
 変数`ssize`は、その画像をどれくらいの大きさで画面に表示するかを指定します。このパラメータがあるのは、テクスチャのサイズが一定とは限らないためです。

続けて、スプライト構造体を追加します。

```
/**
 \* スプライト.
 */
 struct Sprite
 {
   const Cell* cell; ///< 表示するCellデータ.
   DirectX::XMFLOAT3 pos; ///< スクリーン座標上のスプライトの位置.
   float rotation; ///< 画像の回転角(ラジアン).
   DirectX::XMFLOAT2 scale; ///< 画像の拡大率.
   DirectX::XMFLOAT4 color; ///< 画像の色.
 };
```

各メンバ変数の説明はコメントにあるとおりです。

